<HTML>
<!-- created Dec 13 2011 from signal.texi line 204 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Signal Manager Establishing an ASR</TITLE>
<LINK REL="Precedes" HREF="c_user00226.html">
<LINK REV="Precedes" HREF="c_user00219.html">
<LINK REV="Subdocument" HREF="c_user00219.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00219.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00219.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00226.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<H3>12.3.1: Establishing an ASR</H3>
<P>
The <CODE>rtems_signal_catch</CODE> directive establishes an ASR for the
calling task.  The address of the ASR and its execution mode are
specified to this directive.  The ASR's mode is distinct from
the task's mode.  For example, the task may allow preemption,
while that task's ASR may have preemption disabled.  Until a
task calls <CODE>rtems_signal_catch</CODE> the first time,
its ASR is invalid, and no signal sets can be sent to the task.
</P>
<P>
A task may invalidate its ASR and discard all pending
signals by calling <CODE>rtems_signal_catch</CODE>
with a value of NULL for the ASR's address.  When a task's
ASR is invalid, new signal sets sent to this task are discarded.
</P>
<P>
A task may disable ASR processing (<CODE>RTEMS_NO_ASR</CODE>) via the
task_mode directive.  When a task's ASR is disabled, the signals
sent to it are left pending to be processed later when the ASR
is enabled.
</P>
<P>
Any directive that can be called from a task can also
be called from an ASR.  A task is only allowed one active ASR.
Thus, each call to <CODE>rtems_signal_catch</CODE>
replaces the previous one.
</P>
<P>
Normally, signal processing is disabled for the ASR's
execution mode, but if signal processing is enabled for the ASR,
the ASR must be reentrant.
</P>
<P><HR>
<LINK REL="Precedes" HREF="c_user00226.html">
<LINK REV="Precedes" HREF="c_user00219.html">
<LINK REV="Subdocument" HREF="c_user00219.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00219.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00219.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00226.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
