<HTML>
<!-- created Dec 13 2011 from rtmon.texi line 530 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Rate Monotonic Manager First Deadline Rule Example</TITLE>
<LINK REL="Precedes" HREF="c_user00339.html">
<LINK REV="Precedes" HREF="c_user00337.html">
<LINK REV="Subdocument" HREF="c_user00333.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00337.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00333.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00339.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<H4>19.2.5.5: First Deadline Rule Example</H4>
<P>
The First Deadline Rule can ensure schedulability
even when the Processor Utilization Rule fails.  The example
below is a modification of the Processor Utilization Rule
example where task execution time has been increased from 15 to
25 units.  The following table details the RMS priority, period,
execution time, and processor utilization for each task:
</P>
<CENTER>
  <TABLE COLS=5 WIDTH="80%" BORDER=2>
<TR><TD ALIGN=center><STRONG>Task</STRONG></TD>
    <TD ALIGN=center><STRONG>RMS Priority</STRONG></TD>
    <TD ALIGN=center><STRONG>Period</STRONG></TD>
    <TD ALIGN=center><STRONG>Execution Time</STRONG></TD>
    <TD ALIGN=center><STRONG>Processor Utilization</STRONG></TD></TR>
<TR><TD ALIGN=center>1</TD>
    <TD ALIGN=center>High</TD>
    <TD ALIGN=center>100</TD>
    <TD ALIGN=center>25</TD>
    <TD ALIGN=center>0.25</TD></TR>
<TR><TD ALIGN=center>2</TD>
    <TD ALIGN=center>Medium</TD>
    <TD ALIGN=center>200</TD>
    <TD ALIGN=center>50</TD>
    <TD ALIGN=center>0.25</TD></TR>
<TR><TD ALIGN=center>3</TD>
    <TD ALIGN=center>Low</TD>
    <TD ALIGN=center>300</TD>
    <TD ALIGN=center>100</TD>
    <TD ALIGN=center>0.33</TD></TR>
  </TABLE>
</CENTER>
<P>
The total processor utilization for the modified task
set is 0.83 which is above the upper bound of 3 * (2**(1/3) - 1),
or 0.779, imposed by the Processor Utilization Rule.  Therefore,
this task set is not guaranteed to be schedulable using RMS.
However, the First Deadline Rule can guarantee the
schedulability of this task set.  This rule calls for one to
examine each occurrence of deadline until either all tasks have
met their deadline or one task failed to meet its first
deadline.  The following table details the time of each deadline
occurrence, the maximum number of times each task may have run,
the total execution time, and whether all the deadlines have
been met.
</P>
<CENTER>
  <TABLE COLS=6 WIDTH="80%" BORDER=2>
<TR><TD ALIGN=center><STRONG>Deadline Time</STRONG></TD>
    <TD ALIGN=center><STRONG>Task 1</STRONG></TD>
    <TD ALIGN=center><STRONG>Task 2</STRONG></TD>
    <TD ALIGN=center><STRONG>Task 3</STRONG></TD>
    <TD ALIGN=center><STRONG>Total Execution Time</STRONG></TD>
    <TD ALIGN=center><STRONG>All Deadlines Met?</STRONG></TD></TR>
<TR><TD ALIGN=center>100</TD>
    <TD ALIGN=center>1</TD>
    <TD ALIGN=center>1</TD>
    <TD ALIGN=center>1</TD>
    <TD ALIGN=center>25 + 50 + 100 = 175</TD>
    <TD ALIGN=center>NO</TD></TR>
<TR><TD ALIGN=center>200</TD>
    <TD ALIGN=center>2</TD>
    <TD ALIGN=center>1</TD>
    <TD ALIGN=center>1</TD>
    <TD ALIGN=center>50 + 50 + 100 = 175</TD>
    <TD ALIGN=center>YES</TD></TR>
  </TABLE>
</CENTER>
<P>
The key to this analysis is to recognize when each
task will execute.  For example	at time 100, task 1 must have
met its first deadline, but tasks 2 and 3 may also have begun
execution.  In this example, at time 100 tasks 1 and 2 have
completed execution and thus have met their first deadline.
Tasks 1 and 2 have used (25 + 50) = 75 time units, leaving (100
- 75) = 25 time units for task 3 to begin.  Because task 3 takes
100 ticks to execute, it will not have completed execution at
time 100.  Thus at time 100, all of the tasks except task 3 have
met their first deadline.
</P>
<P>
At time 200, task 1 must have met its second deadline
and task 2 its first deadline.  As a result, of the first 200
time units, task 1 uses (2 * 25) = 50 and task 2 uses 50,
leaving (200 - 100) time units for task 3.  Task 3 requires 100
time units to execute, thus it will have completed execution at
time 200.  Thus, all of the tasks have met their first deadlines
at time 200, and the task set is schedulable using the First
Deadline Rule.
</P>
<P><HR>
<LINK REL="Precedes" HREF="c_user00339.html">
<LINK REV="Precedes" HREF="c_user00337.html">
<LINK REV="Subdocument" HREF="c_user00333.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00337.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00333.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00339.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
