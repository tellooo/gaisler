<HTML>
<!-- created Dec 13 2011 from conf.texi line 1700 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Configuring a System Driver Address Table</TITLE>
<LINK REL="Precedes" HREF="c_user00421.html">
<LINK REV="Precedes" HREF="c_user00419.html">
<LINK REV="Subdocument" HREF="c_user00043.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00419.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00043.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00421.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<H2>23.8: Driver Address Table</H2>
<P>
The Device Driver Table is used to inform the I/O Manager of the set of
entry points for each device driver configured in the system.  The table
contains one entry for each device driver required by the application.
The number of entries is defined in the number_of_device_drivers entry
in the Configuration Table.  This table is copied to the Device Drive
Table during the IO Manager's initialization giving the entries in this
table the lower major numbers.  The format of each entry in the Device
Driver Table is defined in the following C structure:
</P>
<DL><DT><DD>
<PRE>
typedef struct {
  rtems_device_driver_entry initialization_entry;
  rtems_device_driver_entry open_entry;
  rtems_device_driver_entry close_entry;
  rtems_device_driver_entry read_entry;
  rtems_device_driver_entry write_entry;
  rtems_device_driver_entry control_entry;
} rtems_driver_address_table;
</PRE>
</DL>
<DL>
<DT><STRONG>initialization_entry</STRONG>
<DD>
is the address of the entry point called by
<CODE>rtems_io_initialize</CODE>
to initialize a device driver and its associated devices.

<DT><STRONG>open_entry</STRONG>
<DD>
is the address of the entry point called by <CODE>rtems_io_open</CODE>.

<DT><STRONG>close_entry</STRONG>
<DD>
is the address of the entry point called by <CODE>rtems_io_close</CODE>.

<DT><STRONG>read_entry</STRONG>
<DD>
is the address of the entry point called by <CODE>rtems_io_read</CODE>.

<DT><STRONG>write_entry</STRONG>
<DD>
is the address of the entry point called by <CODE>rtems_io_write</CODE>.

<DT><STRONG>control_entry</STRONG>
<DD>
is the address of the entry point called by <CODE>rtems_io_control</CODE>.

</DL>
<P>
Driver entry points configured as NULL will always
return a status code of <CODE>RTEMS_SUCCESSFUL</CODE>.  No user code will be
executed in this situation.
</P>
<P>
A typical declaration for a Device Driver Table might appear as follows:
</P>
<DL><DT><DD>
<PRE>
rtems_driver_address_table Driver_table[2] = {
   { tty_initialize, tty_open,  tty_close,  /* major = 0 */
     tty_read,       tty_write, tty_control
   },
   { lp_initialize, lp_open,    lp_close,   /* major = 1 */
     NULL,          lp_write,   lp_control
   }
};
</PRE>
</DL>
<P>
More information regarding the construction and
operation of device drivers is provided in the I/O Manager
chapter.
</P>
<P><HR>
<LINK REL="Precedes" HREF="c_user00421.html">
<LINK REV="Precedes" HREF="c_user00419.html">
<LINK REV="Subdocument" HREF="c_user00043.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00419.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00043.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00421.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
