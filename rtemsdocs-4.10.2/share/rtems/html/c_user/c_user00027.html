<HTML>
<!-- created Dec 13 2011 from clock.texi line 76 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Clock Manager Time and Date Data Structures</TITLE>
<LINK REL="Precedes" HREF="c_user00113.html">
<LINK REV="Precedes" HREF="c_user00112.html">
<LINK REV="Subdocument" HREF="c_user00109.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00112.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00109.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00113.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<H3>7.2.2: Time and Date Data Structures</H3>
<P>
The clock facilities of the clock manager operate
upon calendar time.  These directives utilize the following date
and time structure for the native time and date format:
</P>
<DL><DT><DD>
<PRE>
struct rtems_tod_control {
  uint32_t year;   /* greater than 1987 */
  uint32_t month;  /* 1 - 12 */
  uint32_t day;    /* 1 - 31 */
  uint32_t hour;   /* 0 - 23 */
  uint32_t minute; /* 0 - 59 */
  uint32_t second; /* 0 - 59 */
  uint32_t ticks;  /* elapsed between seconds */
};

typedef struct rtems_tod_control rtems_time_of_day;
</PRE>
</DL>
<P>
The native date and time format is the only format
supported when setting the system date and time using the
<CODE>rtems_clock_set</CODE> directive.  Some applications
expect to operate on a &quot;UNIX-style&quot; date and time data structure.  The
<CODE>rtems_clock_get_tod_timeval</CODE> always returns
the date and time in <CODE>struct timeval</CODE> format.  The
<CODE>rtems_clock_get</CODE> directive can optionally return
the current date and time in this format.
</P>
<P>
The <CODE>struct timeval</CODE> data structure has two fields: <CODE>tv_sec</CODE>
and <CODE>tv_usec</CODE> which are seconds and microseconds, respectively.
The <CODE>tv_sec</CODE> field in this data structure is the number of seconds
since the POSIX epoch of January 1, 1970 but will never be prior to
the RTEMS epoch of January 1, 1988.
</P>
<P><HR>
<LINK REL="Precedes" HREF="c_user00113.html">
<LINK REV="Precedes" HREF="c_user00112.html">
<LINK REV="Subdocument" HREF="c_user00109.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="c_user00112.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="c_user00109.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="c_user00113.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS C User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
