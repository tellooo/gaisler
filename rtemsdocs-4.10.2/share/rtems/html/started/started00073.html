<HTML>
<!-- created Dec 13 2011 from nextstep.texi line 97 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Writing an Application</TITLE>
<LINK REL="Precedes" HREF="started00074.html">
<LINK REV="Precedes" HREF="started00072.html">
<LINK REV="Subdocument" HREF="started00071.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="started00072.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="started00071.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="started00074.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>Getting Started with RTEMS</CITE></P>
<H2>7.2: Writing an Application</H2>
<P>
From an application author's perspective, the structure of
an RTEMS application is very familiar.  In POSIX language,
RTEMS provides a single process, multi-threaded run-time
environment.  However there are two important things that are
different from a standard UNIX hosted program.
</P>
<P>
First, the application developer must provide configuration
information for RTEMS.  This configuration information
includes limits on the maximum number of various OS resources
available and networking configuration among other things.
See the <STRONG>Configuring a System</STRONG> in the
<STRONG>RTEMS Applications C User's Guide</STRONG> for more details.
</P>
<P>
Second, RTEMS applications may or may not start at
<CODE>main()</CODE>.  Applications begin execution at
one or more user configurable application
initialization tasks or threads.  It is possible
to configure an application to start with a
single thread that whose entry point is <CODE>main()</CODE>.
</P>
<P>
Each API supported by RTEMS (Classic, POSIX, and ITRON)
allows the user to configure a set of one or more tasks
that are created and started automatically
during RTEMS initialization.  The RTEMS Automatic
Configuration Generation (<CODE>confdefs.h</CODE>) scheme can be
used to easily generate the configuration information for
an application that starts with a single initialization task.
By convention, unless overridden, the default name of the
initialization task varies based up API.
</P>
<UL>
<LI><CODE>Init</CODE> - single Classic API Initialization Task

<LI><CODE>POSIX_Init</CODE> - single POSIX API Initialization Thread

<LI><CODE>ITRON_Init</CODE> - single ITRON API Initialization Task
</UL>

<P>
Regardless of the API used, when the initialization task executes,
all non-networking device drivers are normally initialized,
processor interrupts are enabled, and any C++ global constructors
have been run.  The initialization task then goes about its
business of performing application specific initialization which
will include initializing the networking subsystem if it is to be
used.  The application initialization may also involve creating
tasks and other system resources such as semaphores or message queues
and allocating memory.  In the RTEMS examples and tests, the
file <CODE>init.c</CODE> usually contains the initialization task.  Although
not required, in most of the examples, the initialization task
completes by deleting itself.
</P>
<P>
As you begin to write RTEMS application code, you may be confused
by the range of alternatives.  Supporting multiple tasking
APIs can make the choices confusing.  Many application groups
writing new code choose one of the APIs as their primary API
and only use services from the others if nothing comparable
is in their preferred one.  However, the support for multiple
APIs is a powerful feature when integrating code from multiple
sources.  You can write new code using POSIX services and
still use services written in terms of the other APIs.
Moreover, by adding support for yet another API, one could
provide the infrastructure required to migrate from a
legacy RTOS with a non-standard API to an API like POSIX.
</P>
<P><HR>
<LINK REL="Precedes" HREF="started00074.html">
<LINK REV="Precedes" HREF="started00072.html">
<LINK REV="Subdocument" HREF="started00071.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="started00072.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="started00071.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="started00074.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>Getting Started with RTEMS</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
