<HTML>
<!-- created Dec 13 2011 from mounting.texi line 46 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Mount Table Chain</TITLE>
<LINK REL="Precedes" HREF="filesystem00012.html">
<LINK REV="Precedes" HREF="filesystem00010.html">
<LINK REV="Subdocument" HREF="filesystem00009.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="filesystem00010.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="filesystem00009.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="filesystem00012.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Filesystem Design Guide</CITE></P>
<H2>3.2: Mount Table Chain</H2>
<P>
The mount table chain is a dynamic list of structures that describe
mounted filesystems a specific points in the filesystem hierarchy. It is
initialized to an empty state during the base filesystem initialization.
The mount operation will add entries to the mount table chain. The
un-mount operation will remove entries from the mount table chain.
</P>
<P>
Each entry in the mount table chain is of the following type:
</P>
<DL><DT><DD>
<PRE>
struct rtems_filesystem_mount_table_entry_tt
{
   Chain_Node                             Node;
   rtems_filesystem_location_info_t       mt_point_node;
   rtems_filesystem_location_info_t       mt_fs_root;
   int                                    options;
   void                                  *fs_info;

   rtems_filesystem_limits_and_options_t  pathconf_limits_and_options;

  /*
   *  When someone adds a mounted filesystem on a real device,
   *  this will need to be used.
   *
   *  The best option long term for this is probably an
   *  open file descriptor.
   */
   char                                  *dev;
};
</PRE>
</DL>
<DL>
<DT><STRONG>Node</STRONG>
<DD>
The Node is used to produce a linked list of mount table entry nodes.

<DT><STRONG>mt_point_node</STRONG>
<DD>
The mt_point_node contains all information necessary to access the
directory where a filesystem is mounted onto.  This element may contain
memory that is allocated during a path evaluation of the filesystem
containing the mountpoint directory.  The generic code allows this
memory to be returned by unmount when the filesystem identified by
mt_fs_root is unmounted.

<DT><STRONG>mt_fs_root</STRONG>
<DD>
The mt_fs_root contains all information necessary to identify the root
of the mounted filesystem. The user is never allowed access to this
node by the generic code, but it is used to identify to the mounted
filesystem where to start evaluation of pathnames at.

<DT><STRONG>options</STRONG>
<DD>
XXX

<DT><STRONG>fs_info</STRONG>
<DD>
The fs_info element is a location available for use by the mounted file
system to identify unique things applicable to this instance of the file
system.  For example the IMFS uses this space to provide node
identification that is unique for each instance (mounting) of the filesystem.

<DT><STRONG>pathconf_limits_and_options</STRONG>
<DD>
XXX

<DT><STRONG>dev</STRONG>
<DD>
This character string represents the device where the filesystem will reside.

</DL>
<P><HR>
<LINK REL="Precedes" HREF="filesystem00012.html">
<LINK REV="Precedes" HREF="filesystem00010.html">
<LINK REV="Subdocument" HREF="filesystem00009.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="filesystem00010.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="filesystem00009.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="filesystem00012.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Filesystem Design Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
