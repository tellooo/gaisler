<HTML>
<!-- created Dec 13 2011 from patheval.texi line 61 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>The rtems_filesystem_location_info_t Structure</TITLE>
<LINK REL="Precedes" HREF="">
<LINK REV="Precedes" HREF="filesystem00004.html">
<LINK REV="Subdocument" HREF="filesystem00002.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="filesystem00004.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="filesystem00002.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A><IMG ALIGN=MIDDLE SRC="../images/missing-arrow.gif" ALT="next"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Filesystem Design Guide</CITE></P>
<H2>1.3: The rtems_filesystem_location_info_t Structure</H2>
<P>
The <CODE>rtems_filesystem_location_info_t</CODE> structure contains all information
necessary for identification of a node.
</P>
<P>
The generic rtems filesystem code defines two global
rtems_filesystem_location_info_t structures, the
<CODE>rtems_filesystem_root</CODE> and the <CODE>rtems_filesystem_current</CODE>.
Both are initially defined to be the root node of the base filesystem.
Once the chdir command is correctly used the <CODE>rtems_filesystem_current</CODE>
is set to the location specified by the command.
</P>
<P>
The filesystem generic code peeks at the first character in the name to be
evaluated.  If this character is a valid seperator, the
<CODE>rtems_filesystem_root</CODE> is used as the node to start the evaluation
with.  Otherwise, the <CODE>rtems_filesystem_current</CODE> node is used as the
node to start evaluating with.  Therefore, a valid
rtems_filesystem_location_info_t is given to the evaluate routine to start
evaluation with.  The evaluate routines are then responsible for making
any changes necessary to this structure to correspond to the name being
parsed.
</P>
<DL><DT><DD>
<PRE>
struct rtems_filesystem_location_info_tt {
    void                                     *node_access;
    rtems_filesystem_file_handlers_r         *handlers;
    rtems_filesystem_operations_table        *ops;
    rtems_filesystem_mount_table_entry_t     *mt_entry;
};
</PRE>
</DL>
<DL>
<DT><STRONG>node_access</STRONG>
<DD>
This element is filesystem specific.  A filesystem can define and store
any information necessary to identify a node at this location.  This element
is normally filled in by the filesystem's evaluate routine. For the
filesystem's root node, the filesystem's initilization routine should
fill this in, and it should remain valid until the instance of the
filesystem is unmounted.

<DT><STRONG>handlers</STRONG>
<DD>
This element is defined as a set of routines that may change within a
given filesystem based upon node type.  For example a directory and a
memory file may have to completely different read routines.  This element
is set to an initialization state defined by the mount table, and may
be set to the desired state by the evaluation routines.

<DT><STRONG>ops</STRONG>
<DD>
This element is defined as a set of routines that remain static for the
filesystem.  This element identifies entry points into the filesystem
to the generic code.

<DT><STRONG>mt_entry</STRONG>
<DD>
This element identifies the mount table entry for this instance of the
filesystem.

</DL>
<P><HR>
<LINK REL="Precedes" HREF="">
<LINK REV="Precedes" HREF="filesystem00004.html">
<LINK REV="Subdocument" HREF="filesystem00002.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="filesystem00004.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="filesystem00002.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A><IMG ALIGN=MIDDLE SRC="../images/missing-arrow.gif" ALT="next"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Filesystem Design Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
