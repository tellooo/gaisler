<HTML>
<!-- created Dec 13 2011 from imfs.texi line 1682 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>IMFS_fchmod() for Directories</TITLE>
<LINK REL="Precedes" HREF="filesystem00129.html">
<LINK REV="Precedes" HREF="filesystem00127.html">
<LINK REV="Subdocument" HREF="filesystem00091.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="filesystem00127.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="filesystem00091.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="filesystem00129.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Filesystem Design Guide</CITE></P>
<H4>6.4.3.8: IMFS_fchmod() for Directories</H4>
<H3>Corresponding Structure Element:</H3>
<P>
IMFS_fchmod()
</P>
<H3>Arguments:</H3>
<DL><DT><DD>
<PRE>
rtems_libio_t     *iop
mode_t             mode
</PRE>
</DL>
<H3>File:</H3>
<P>
imfs_fchmod.c
</P>
<H3>Description:</H3>
<P>
This routine will obtain the pointer to the IMFS_jnode_t structure from the
information currently in the file control block.
</P>
<P>
Based on configuration the routine will acquire the user ID from a call to
getuid()  or from the IMFS_jnode_t structure.
</P>
<P>
It then checks to see if we have the ownership rights to alter the mode of
the file.  If the caller does not, an error code is returned.
</P>
<P>
An additional test is performed to verify that the caller is not trying to
alter the nature of the node. If the caller is attempting to alter more than
the permissions associated with user group and other, an error is returned.
</P>
<P>
If all the preconditions are met, the user, group and other fields are set
based on the mode calling parameter.
</P>
<P><HR>
<LINK REL="Precedes" HREF="filesystem00129.html">
<LINK REV="Precedes" HREF="filesystem00127.html">
<LINK REV="Subdocument" HREF="filesystem00091.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="filesystem00127.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="filesystem00091.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="filesystem00129.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Filesystem Design Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
