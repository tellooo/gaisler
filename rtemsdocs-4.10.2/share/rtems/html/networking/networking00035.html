<HTML>
<!-- created Dec 13 2011 from testing.texi line 68 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Debug Output</TITLE>
<LINK REL="Precedes" HREF="networking00036.html">
<LINK REV="Precedes" HREF="networking00034.html">
<LINK REV="Subdocument" HREF="networking00033.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="networking00034.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="networking00033.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="networking00036.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Network Supplement</CITE></P>
<H2>4.2: Debug Output</H2>
<P>
There are a number of sources of debug output that can be enabled
to aid in tracing the behavior of the network stack.  The following
is a list of them:
</P>
<UL>
<LI>mbuf activity

<P>
There are commented out calls to <CODE>printf</CODE> in the file
<CODE>sys/mbuf.h</CODE> in the network stack code.  Uncommenting
these lines results in output when mbuf's are allocated
and freed.  This is very useful for finding memory leaks.
</P>
<LI>TX and RX queuing

<P>
There are commented out calls to <CODE>printf</CODE> in the file
<CODE>net/if.h</CODE> in the network stack code.  Uncommenting
these lines results in output when packets are placed
on or removed from one of the transmit or receive packet
queues.  These queues can be viewed as the boundary line
between a device driver and the network stack.  If the
network stack is enqueuing packets to be transmitted that
the device driver is not dequeuing, then that is indicative
of a problem in the transmit side of the device driver.
Conversely, if the device driver is enqueueing packets
as it receives them (via a call to <CODE>ether_input</CODE>) and
they are not being dequeued by the network stack,
then there is a problem.  This situation would likely indicate
that the network server task is not running.
</P>
<LI>TCP state transitions

<P>
In the unlikely event that one would actually want to see
TCP state transitions, the <CODE>TCPDEBUG</CODE> macro can be defined
in the file <CODE>opt_tcpdebug.h</CODE>.  This results in the routine
<CODE>tcp_trace()</CODE> being called by the network stack and
the state transitions logged into the <CODE>tcp_debug</CODE> data
structure.  If the variable <CODE>tcpconsdebug</CODE> in the file
<CODE>netinet/tcp_debug.c</CODE> is set to 1, then the state transitions
will also be printed to the console.
</P>
</UL>
<P><HR>
<LINK REL="Precedes" HREF="networking00036.html">
<LINK REV="Precedes" HREF="networking00034.html">
<LINK REV="Subdocument" HREF="networking00033.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="networking00034.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="networking00033.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="networking00036.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Network Supplement</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
