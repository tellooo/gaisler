<HTML>
<!-- created Dec 13 2011 from testing.texi line 116 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Monitor Commands</TITLE>
<LINK REL="Precedes" HREF="networking00037.html">
<LINK REV="Precedes" HREF="networking00035.html">
<LINK REV="Subdocument" HREF="networking00033.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="networking00035.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="networking00033.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="networking00037.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Network Supplement</CITE></P>
<H2>4.3: Monitor Commands</H2>
<P>
There are a number of command available in the shell / monitor
to aid in tracing the behavior of the network stack.  The following
is a list of them:
</P>
<UL>
<LI><CODE>inet</CODE>

<P>
This command shows the current routing information for the TCP/IP stack. Following is an
example showing the output of this command.
</P>
<DL><DT><DD>
<PRE>
Destination     Gateway/Mask/Hw    Flags     Refs     Use Expire Interface
10.0.0.0        255.0.0.0          U           0        0     17 smc1
127.0.0.1       127.0.0.1          UH          0        0      0 lo0
</PRE>
</DL>
<P>
In this example, there is only one network interface with an IP address of 10.8.1.1.  This
link is currently not up.
</P>
<P>
Two routes that are shown are the default routes for the Ethernet interface (10.0.0.0) and the
loopback interface (127.0.0.1).
</P>
<P>
Since the stack comes from BSD, this command is very similar to the netstat command.  For more
details on the network routing please look the following
URL: (<A HREF="networking00040.html">http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/network-routing.html</A>)
</P>
<P>
For a quick reference to the flags, see the table below:
</P>
<DL>
<DT>`<CODE>U</CODE>'
<DD>
Up: The route is active.
<DT>`<CODE>H</CODE>'
<DD>
Host: The route destination is a single host.
<DT>`<CODE>G</CODE>'
<DD>
Gateway: Send anything for this destination on to this remote system, which
will figure out from there where to send it.
<DT>`<CODE>S</CODE>'
<DD>
Static: This route was configured manually, not automatically generated by the
system.
<DT>`<CODE>C</CODE>'
<DD>
Clone: Generates a new route based upon this route for machines we connect
to. This type of route is normally used for local networks.
<DT>`<CODE>W</CODE>'
<DD>
WasCloned: Indicated a route that was auto-configured based upon a local area
network (Clone) route.
<DT>`<CODE>L</CODE>'
<DD>
Link: Route involves references to Ethernet hardware.
</DL>

<LI><CODE>mbuf</CODE>

<P>
This command shows the current MBUF statistics.  An example of the command is shown below:
</P>
<DL><DT><DD>
<PRE>
************ MBUF STATISTICS ************
mbufs:4096    clusters: 256    free: 241
drops:   0       waits:   0  drains:   0
      free:4080          data:16          header:0           socket:0
       pcb:0           rtable:0           htable:0           atable:0
    soname:0           soopts:0           ftable:0           rights:0
    ifaddr:0          control:0          oobdata:0
</PRE>
</DL>
<LI><CODE>if</CODE>

<P>
This command shows the current statistics for your Ethernet driver as long as the ioctl hook
<CODE>SIO_RTEMS_SHOW_STATS</CODE> has been implemented.  Below is an example:
</P>
<DL><DT><DD>
<PRE>
************ INTERFACE STATISTICS ************
***** smc1 *****
Ethernet Address: 00:12:76:43:34:25
Address:10.8.1.1        Broadcast Address:10.255.255.255  Net mask:255.0.0.0
Flags: Up Broadcast Running Simplex
Send queue limit:50   length:0    Dropped:0
SMC91C111 RTEMS driver A0.01 11/03/2002 Ian Caddy (ianc@microsol.iinet.net.au)
   Rx Interrupts:0              Not First:0               Not Last:0
           Giant:0                   Runt:0              Non-octet:0
         Bad CRC:0                Overrun:0              Collision:0
   Tx Interrupts:2               Deferred:0        Missed Hearbeat:0
      No Carrier:0       Retransmit Limit:0         Late Collision:0
        Underrun:0        Raw output wait:0              Coalesced:0
 Coalesce failed:0                Retries:0
***** lo0 *****
Address:127.0.0.1       Net mask:255.0.0.0
Flags: Up Loopback Running Multicast
Send queue limit:50   length:0    Dropped:0
</PRE>
</DL>
<LI><CODE>ip</CODE>

<P>
This command show the IP statistics for the currently configured interfaces.
</P>
<LI><CODE>icmp</CODE>

<P>
This command show the ICMP statistics for the currently configured interfaces.
</P>
<LI><CODE>tcp</CODE>

<P>
This command show the TCP statistics for the currently configured interfaces.
</P>
<LI><CODE>udp</CODE>

<P>
This command show the UDP statistics for the currently configured interfaces.
</P>
</UL>
<P><HR>
<LINK REL="Precedes" HREF="networking00037.html">
<LINK REV="Precedes" HREF="networking00035.html">
<LINK REV="Subdocument" HREF="networking00033.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="networking00035.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="networking00033.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="networking00037.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Network Supplement</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
