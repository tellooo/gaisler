<HTML>
<!-- created Dec 13 2011 from networkapp.texi line 612 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Adding an IP Alias</TITLE>
<LINK REL="Precedes" HREF="networking00031.html">
<LINK REV="Precedes" HREF="networking00029.html">
<LINK REV="Subdocument" HREF="networking00020.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="networking00029.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="networking00020.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="networking00031.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Network Supplement</CITE></P>
<H3>3.4.4: Adding an IP Alias</H3>
<P>
The following code snippet adds an IP alias:
</P>
<DL><DT><DD>
<PRE>
void addAlias(const char *pName, const char *pAddr, const char *pMask)
{
  struct ifaliasreq      aliasreq;
  struct sockaddr_in    *in;

  /* initialize alias request */
  memset(&amp;aliasreq, 0, sizeof(aliasreq));
  sprintf(aliasreq.ifra_name, pName);

  /* initialize alias address */
  in = (struct sockaddr_in *)&amp;aliasreq.ifra_addr;
  in-&gt;sin_family = AF_INET;
  in-&gt;sin_len    = sizeof(aliasreq.ifra_addr);
  in-&gt;sin_addr.s_addr = inet_addr(pAddr);

  /* initialize alias mask */
  in = (struct sockaddr_in *)&amp;aliasreq.ifra_mask;
  in-&gt;sin_family = AF_INET;
  in-&gt;sin_len    = sizeof(aliasreq.ifra_mask);
  in-&gt;sin_addr.s_addr = inet_addr(pMask);

  /* call to setup the alias */
  rtems_bsdnet_ifconfig(pName, SIOCAIFADDR, &amp;aliasreq);
}
</PRE>
</DL>
<P>
Thanks to <A HREF="mailto:mikes@poliac.com">Mike Seirs</A> for this example
code.
</P>
<P><HR>
<LINK REL="Precedes" HREF="networking00031.html">
<LINK REV="Precedes" HREF="networking00029.html">
<LINK REV="Subdocument" HREF="networking00020.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="networking00029.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="networking00020.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="networking00031.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Network Supplement</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
