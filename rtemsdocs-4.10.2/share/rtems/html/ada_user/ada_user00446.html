<HTML>
<!-- created Dec 13 2011 from ../user/mp.texi line 184 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Multiprocessing Manager Remote Operations</TITLE>
<LINK REL="Precedes" HREF="ada_user00447.html">
<LINK REV="Precedes" HREF="ada_user00445.html">
<LINK REV="Subdocument" HREF="ada_user00439.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="ada_user00445.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="ada_user00439.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="ada_user00447.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Ada User's Guide</CITE></P>
<H3>24.2.4: Remote Operations</H3>
<P>
When an application performs an operation on a remote
global object, RTEMS must generate a Remote Request (RQ) message
and send it to the appropriate node.  After completing the
requested operation, the remote node will build a Remote
Response (RR) message and send it to the originating node.
Messages generated as a side-effect of a directive (such as
deleting a global task) are known as Remote Processes (RP) and
do not require the receiving node to respond.
</P>
<P>
Other than taking slightly longer to execute
directives on remote objects, the application is unaware of the
location of the objects it acts upon.  The exact amount of
overhead required for a remote operation is dependent on the
media connecting the nodes and, to a lesser degree, on the
efficiency of the user-provided MPCI routines.
</P>
<P>
The following shows the typical transaction sequence
during a remote application:
</P>
<OL>
<LI>The application issues a directive accessing a
remote global object.

<LI>RTEMS determines the node on which the object
resides.

<LI>RTEMS calls the user-provided MPCI routine
GET_PACKET to obtain a packet in which to build a RQ message.

<LI>After building a message packet, RTEMS calls the
user-provided MPCI routine SEND_PACKET to transmit the packet to
the node on which the object resides (referred to as the
destination node).

<LI>The calling task is blocked until the RR message
arrives, and control of the processor is transferred to another
task.

<LI>The MPCI layer on the destination node senses the
arrival of a packet (commonly in an ISR), and calls the
<CODE>rtems_multiprocessing_announce</CODE>
directive.  This directive readies the Multiprocessing Server.

<LI>The Multiprocessing Server calls the user-provided
MPCI routine RECEIVE_PACKET, performs the requested operation,
builds an RR message, and returns it to the originating node.

<LI>The MPCI layer on the originating node senses the
arrival of a packet (typically via an interrupt), and calls the RTEMS
<CODE>rtems_multiprocessing_announce</CODE> directive.  This directive
readies the Multiprocessing Server.

<LI>The Multiprocessing Server calls the user-provided
MPCI routine RECEIVE_PACKET, readies the original requesting
task, and blocks until another packet arrives.  Control is
transferred to the original task which then completes processing
of the directive.

</OL>
<P>
If an uncorrectable error occurs in the user-provided
MPCI layer, the fatal error handler should be invoked.  RTEMS
assumes the reliable transmission and reception of messages by
the MPCI and makes no attempt to detect or correct errors.
</P>
<P><HR>
<LINK REL="Precedes" HREF="ada_user00447.html">
<LINK REV="Precedes" HREF="ada_user00445.html">
<LINK REV="Subdocument" HREF="ada_user00439.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="ada_user00445.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="ada_user00439.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="ada_user00447.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Ada User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
