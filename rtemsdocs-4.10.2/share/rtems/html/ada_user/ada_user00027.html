<HTML>
<!-- created Dec 13 2011 from ../user/clock.texi line 76 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Clock Manager Time and Date Data Structures</TITLE>
<LINK REL="Precedes" HREF="ada_user00113.html">
<LINK REV="Precedes" HREF="ada_user00112.html">
<LINK REV="Subdocument" HREF="ada_user00109.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="ada_user00112.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="ada_user00109.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="ada_user00113.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Ada User's Guide</CITE></P>
<H3>7.2.2: Time and Date Data Structures</H3>
<P>
The clock facilities of the clock manager operate
upon calendar time.  These directives utilize the following date
and time record for the native time and date format:
</P>
<DL><DT><DD>
<PRE>
type Time_Of_Day is
   record
      Year    : RTEMS.Unsigned32; -- year, A.D.
      Month   : RTEMS.Unsigned32; -- month, 1 .. 12
      Day     : RTEMS.Unsigned32; -- day, 1 .. 31
      Hour    : RTEMS.Unsigned32; -- hour, 0 .. 23
      Minute  : RTEMS.Unsigned32; -- minute, 0 .. 59
      Second  : RTEMS.Unsigned32; -- second, 0 .. 59
      Ticks   : RTEMS.Unsigned32; -- elapsed ticks between seconds
   end record;
</PRE>
</DL>
<P>
The native date and time format is the only format
supported when setting the system date and time using the
<CODE>rtems.clock_set</CODE> directive.  Some applications
expect to operate on a &quot;UNIX-style&quot; date and time data structure.  The
<CODE>rtems.clock_get_tod_timeval</CODE> always returns
the date and time in <CODE>struct timeval</CODE> format.  The
<CODE>rtems.clock_get</CODE> directive can optionally return
the current date and time in this format.
</P>
<P>
The <CODE>struct timeval</CODE> data structure has two fields: <CODE>tv_sec</CODE>
and <CODE>tv_usec</CODE> which are seconds and microseconds, respectively.
The <CODE>tv_sec</CODE> field in this data structure is the number of seconds
since the POSIX epoch of January 1, 1970 but will never be prior to
the RTEMS epoch of January 1, 1988.
</P>
<P><HR>
<LINK REL="Precedes" HREF="ada_user00113.html">
<LINK REV="Precedes" HREF="ada_user00112.html">
<LINK REV="Subdocument" HREF="ada_user00109.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="ada_user00112.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="ada_user00109.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="ada_user00113.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Ada User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
