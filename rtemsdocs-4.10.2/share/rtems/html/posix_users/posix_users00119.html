<HTML>
<!-- created Dec 13 2011 from files.texi line 2493 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Files and Directories Manager mknod - create a directory</TITLE>
<LINK REL="Precedes" HREF="">
<LINK REV="Precedes" HREF="posix_users00118.html">
<LINK REV="Subdocument" HREF="posix_users00084.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="posix_users00118.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="posix_users00084.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A><IMG ALIGN=MIDDLE SRC="../images/missing-arrow.gif" ALT="next"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS POSIX API User's Guide </CITE></P>
<H3>4.4.34: mknod - create a directory</H3>
<H3>CALLING SEQUENCE:</H3>
<DL><DT><DD>
<PRE>
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/stat.h&gt;

long mknod(
  const char *pathname,
  mode_t      mode,
  dev_t       dev
);
</PRE>
</DL>
<H3>STATUS CODES:</H3>
<P>
<CODE>mknod</CODE> returns zero on success, or -1 if an error occurred (in which case,
errno is set appropriately).
</P>
<DL>
<DT><STRONG>ENAMETOOLONG</STRONG>
<DD>
<CODE>pathname</CODE> was too long.

<DT><STRONG>ENOENT</STRONG>
<DD>
A directory component in <CODE>pathname</CODE> does not exist or is a dangling symbolic
link.

<DT><STRONG>ENOTDIR</STRONG>
<DD>
A component used in the directory <CODE>pathname</CODE> is not, in fact, a directory.

<DT><STRONG>ENOMEM</STRONG>
<DD>
Insufficient kernel memory was available

<DT><STRONG>EROFS</STRONG>
<DD>
<CODE>pathname</CODE> refers to a file on a read-only filesystem.

<DT><STRONG>ELOOP</STRONG>
<DD>
<CODE>pathname</CODE> contains a reference to a circular symbolic link, ie a symbolic
link whose expansion contains a reference to itself.

<DT><STRONG>ENOSPC</STRONG>
<DD>
The device containing <CODE>pathname</CODE> has no room for the new node.

</DL>
<H3>DESCRIPTION:</H3>
<P>
<CODE>mknod</CODE> attempts to create a filesystem node (file, device special file or
named pipe) named <CODE>pathname</CODE>, specified by <CODE>mode</CODE> and <CODE>dev</CODE>.
</P>
<P>
<CODE>mode</CODE> specifies both the permissions to use and the type of node to be created.
</P>
<P>
It should be a combination (using bitwise OR) of one of the file types listed
below and the permissions for the new node.
</P>
<P>
The permissions are modified by the process's <CODE>umask</CODE> in the usual way: the
permissions of the created node are <CODE>(mode &amp; ~umask)</CODE>.
</P>
<P>
The file type should be one of <CODE>S_IFREG</CODE>, <CODE>S_IFCHR</CODE>, <CODE>S_IFBLK</CODE> and
<CODE>S_IFIFO</CODE> to specify a normal file (which will be created empty), character
special file, block special file or FIFO (named pipe), respectively, or zero, which
will create a normal file.
</P>
<P>
If the file type is <CODE>S_IFCHR</CODE> or <CODE>S_IFBLK</CODE> then <CODE>dev</CODE> specifies the major
and minor numbers of the newly created device special file; otherwise it is ignored.
</P>
<P>
The newly created node will be owned by the effective uid of the process. If the
directory containing the node has the set group id bit set, or if the filesystem
is mounted with BSD group semantics, the new node will inherit the group ownership
from its parent directory; otherwise it will be owned by the effective gid of the
process.
</P>
<H3>NOTES:</H3>
<P>
NONE
</P>
<P><HR>
<LINK REL="Precedes" HREF="">
<LINK REV="Precedes" HREF="posix_users00118.html">
<LINK REV="Subdocument" HREF="posix_users00084.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="posix_users00118.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="posix_users00084.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A><IMG ALIGN=MIDDLE SRC="../images/missing-arrow.gif" ALT="next"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS POSIX API User's Guide </CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
