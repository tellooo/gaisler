<HTML>
<!-- created Dec 13 2011 from thread.texi line 988 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Thread Manager pthread_create - Create a Thread</TITLE>
<LINK REL="Precedes" HREF="posix_users00360.html">
<LINK REV="Precedes" HREF="posix_users00358.html">
<LINK REV="Subdocument" HREF="posix_users00341.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="posix_users00358.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="posix_users00341.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="posix_users00360.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS POSIX API User's Guide </CITE></P>
<H3>17.4.17: pthread_create - Create a Thread</H3>
<H3>CALLING SEQUENCE:</H3>
<DL><DT><DD>
<PRE>
#include &lt;pthread.h&gt;

int pthread_create(
  pthread_t             *thread,
  const pthread_attr_t  *attr,
  void                 (*start_routine)( void *),
  void                  *arg
);
</PRE>
</DL>
<H3>STATUS CODES:</H3>
<DL>
<DT><STRONG>EINVAL</STRONG>
<DD>
The attribute set is not initialized.

<DT><STRONG>EINVAL</STRONG>
<DD>
The user specified a stack address and the size of the area was not
large enough to meet this processor's minimum stack requirements.

<DT><STRONG>EINVAL</STRONG>
<DD>
The specified scheduler inheritance policy was invalid.

<DT><STRONG>ENOTSUP</STRONG>
<DD>
The specified contention scope was PTHREAD_SCOPE_PROCESS.

<DT><STRONG>EINVAL</STRONG>
<DD>
The specified thread priority was invalid.

<DT><STRONG>EINVAL</STRONG>
<DD>
The specified scheduling policy was invalid.

<DT><STRONG>EINVAL</STRONG>
<DD>
The scheduling policy was SCHED_SPORADIC and the specified replenishment
period is less than the initial budget.

<DT><STRONG>EINVAL</STRONG>
<DD>
The scheduling policy was SCHED_SPORADIC and the specified low priority
is invalid.

<DT><STRONG>EAGAIN</STRONG>
<DD>
The system lacked the necessary resources to create another thread, or the
self imposed limit on the total number of threads in a process
PTHREAD_THREAD_MAX would be exceeded.

<DT><STRONG>EINVAL</STRONG>
<DD>
Invalid argument passed.

</DL>
<H3>DESCRIPTION:</H3>
<P>
The <CODE>pthread_create</CODE> routine is used to create a new thread with
the attributes specified by <CODE>attr</CODE>. If the <CODE>attr</CODE> argument
is <CODE>NULL</CODE>, then the default attribute set will be used. Modification
of the contents of <CODE>attr</CODE> after this thread is created does not
have an impact on this thread.
</P>
<P>
The thread begins execution at the address specified by <CODE>start_routine</CODE>
with <CODE>arg</CODE> as its only argument. If <CODE>start_routine</CODE> returns,
then it is functionally equivalent to the thread executing the
<CODE>pthread_exit</CODE> service.
</P>
<P>
Upon successful completion, the ID of the created thread is returned in the
<CODE>thread</CODE> argument.
</P>
<H3>NOTES:</H3>
<P>
There is no concept of a single main thread in RTEMS as there is in
a tradition UNIX system. POSIX requires that the implicit return of
the main thread results in the same effects as if there were a call
to <CODE>exit</CODE>. This does not occur in RTEMS.
</P>
<P>
The signal mask of the newly created thread is inherited from its
creator and the set of pending signals for this thread is empty.
</P>
<P><HR>
<LINK REL="Precedes" HREF="posix_users00360.html">
<LINK REV="Precedes" HREF="posix_users00358.html">
<LINK REV="Subdocument" HREF="posix_users00341.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="posix_users00358.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="posix_users00341.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="posix_users00360.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS POSIX API User's Guide </CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
