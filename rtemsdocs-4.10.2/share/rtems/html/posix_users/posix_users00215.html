<HTML>
<!-- created Dec 13 2011 from semaphores.texi line 255 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Semaphore Manager sem_open - Open a named semaphore</TITLE>
<LINK REL="Precedes" HREF="posix_users00216.html">
<LINK REV="Precedes" HREF="posix_users00214.html">
<LINK REV="Subdocument" HREF="posix_users00208.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="posix_users00214.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="posix_users00208.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="posix_users00216.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS POSIX API User's Guide </CITE></P>
<H3>9.4.3: sem_open - Open a named semaphore</H3>
<H3>CALLING SEQUENCE:</H3>
<DL><DT><DD>
<PRE>
int sem_open(
  const char *name,
  int         oflag
);
</PRE>
</DL>
<H3>ARGUMENTS:</H3>
<P>
The following flag bit may be set in oflag:
</P>
<P>
<CODE>O_CREAT</CODE> - Creates the semaphore if it does not already exist. If O_CREAT
is set and the semaphore already exists then O_CREAT has no effect. Otherwise,
sem_open() creates a semaphore. The O_CREAT flag requires the third and fourth
argument: mode and value of type mode_t and unsigned int, respectively.
</P>
<P>
<CODE>O_EXCL</CODE> - If O_EXCL and O_CREAT are set, all call to sem_open() shall fail
if the semaphore name exists
</P>
<H3>STATUS CODES:</H3>
<DL>
<DT><STRONG>EACCES</STRONG>
<DD>
Valid name specified but oflag permissions are denied, or the semaphore name
specified does not exist and permission to create the named semaphore is denied.

<DT><STRONG>EEXIST</STRONG>
<DD>
O_CREAT and O_EXCL are set and the named semaphore already exists.

<DT><STRONG>EINTR</STRONG>
<DD>
The sem_open() operation was interrupted by a signal.

<DT><STRONG>EINVAL</STRONG>
<DD>
The sem_open() operation is not supported for the given name.

<DT><STRONG>EMFILE</STRONG>
<DD>
Too many semaphore descriptors or file descriptors in use by this process.

<DT><STRONG>ENAMETOOLONG</STRONG>
<DD>
The length of the name exceed PATH_MAX or name component is longer than NAME_MAX
while POSIX_NO_TRUNC is in effect.

<DT><STRONG>ENOENT</STRONG>
<DD>
O_CREAT is not set and the named semaphore does not exist.

<DT><STRONG>ENOSPC</STRONG>
<DD>
There is insufficient space for the creation of a new named semaphore.

<DT><STRONG>ENOSYS</STRONG>
<DD>
The function sem_open() is not supported by this implementation.

</DL>
<H3>DESCRIPTION:</H3>
<P>
The sem_open() function establishes a connection between a specified semaphore and
a process. After a call to sem_open with a specified semaphore name, a process
can reference to semaphore by the associated name using the address returned by
the call. The oflag arguments listed above control the state of the semaphore by
determining if the semaphore is created or accessed by a call to sem_open().
</P>
<H3>NOTES:</H3>
<P><HR>
<LINK REL="Precedes" HREF="posix_users00216.html">
<LINK REV="Precedes" HREF="posix_users00214.html">
<LINK REV="Subdocument" HREF="posix_users00208.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="posix_users00214.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="posix_users00208.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="posix_users00216.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS POSIX API User's Guide </CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
