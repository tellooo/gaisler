<HTML>
<!-- created Dec 13 2011 from powerpc.texi line 806 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>PowerPC Specific Information Processor Initialization</TITLE>
<LINK REL="Precedes" HREF="">
<LINK REV="Precedes" HREF="cpu_supplement00160.html">
<LINK REV="Subdocument" HREF="cpu_supplement00137.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="cpu_supplement00160.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="cpu_supplement00137.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A><IMG ALIGN=MIDDLE SRC="../images/missing-arrow.gif" ALT="next"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS CPU Architecture Supplement</CITE></P>
<H3>9.6.2: Processor Initialization</H3>
<P>
If this PowerPC implementation supports on-chip caching
and this is to be utilized, then it should be enabled during the
reset application initialization code.  On-chip caching has been
observed to prevent some emulators from working properly, so it
may be necessary to run with caching disabled to use these emulators.
</P>
<P>
In addition to the requirements described in the
<STRONG>Board Support Packages</STRONG> chapter of the RTEMS C
Applications User's Manual for the reset code
which is executed before the call to <CODE>rtems_initialize_executive</CODE>,
the PowrePC version has the following specific requirements:
</P>
<UL>
<LI>Must leave the PR bit of the Machine State Register (MSR) set
to 0 so the PowerPC remains in the supervisor state.

<LI>Must set stack pointer (sp or r1) such that a minimum stack
size of MINIMUM_STACK_SIZE bytes is provided for the RTEMS initialization
sequence.

<LI>Must disable all external interrupts (i.e. clear the EI (EE)
bit of the machine state register).

<LI>Must enable traps so window overflow and underflow
conditions can be properly handled.

<LI>Must initialize the PowerPC's initial Exception Table with default
handlers.

</UL>
<P><HR>
<LINK REL="Precedes" HREF="">
<LINK REV="Precedes" HREF="cpu_supplement00160.html">
<LINK REV="Subdocument" HREF="cpu_supplement00137.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="cpu_supplement00160.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="cpu_supplement00137.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A><IMG ALIGN=MIDDLE SRC="../images/missing-arrow.gif" ALT="next"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS CPU Architecture Supplement</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
