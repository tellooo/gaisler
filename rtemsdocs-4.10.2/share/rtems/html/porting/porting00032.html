<HTML>
<!-- created Dec 13 2011 from interrupts.texi line 341 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Interrupts Install RTEMS Interrupt Handler</TITLE>
<LINK REL="Precedes" HREF="porting00019.html">
<LINK REV="Precedes" HREF="porting00031.html">
<LINK REV="Subdocument" HREF="porting00018.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="porting00031.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="porting00018.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="porting00019.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Porting Guide</CITE></P>
<H3>5.4.4: Install RTEMS Interrupt Handler</H3>
<P>
The _CPU_ISR_install_vector routine installs the RTEMS handler for the
specified vector.
</P>
<P>
XXX Input parameters:
vector      - interrupt vector number
old_handler - former ISR for this vector number
new_handler - replacement ISR for this vector number
</P>
<DL><DT><DD>
<PRE>
void _CPU_ISR_install_vector(
  unsigned32  vector,
  proc_ptr    new_handler,
  proc_ptr   *old_handler
)
</PRE>
</DL>
<DL><DT><DD>
<PRE>
*old_handler = _ISR_Vector_table[ vector ];
</PRE>
</DL>
<P>
If the interrupt vector table is a table of pointer to isr entry points,
then we need to install the appropriate RTEMS interrupt handler for this
vector number.
</P>
<DL><DT><DD>
<PRE>
_CPU_ISR_install_raw_handler( vector, new_handler, old_handler );
</PRE>
</DL>
<P>
We put the actual user ISR address in _ISR_vector_table.  This will be
used by the <CODE>_ISR_Handler</CODE> so the user gets control.
</P>
<DL><DT><DD>
<PRE>
_ISR_Vector_table[ vector ] = new_handler;
</PRE>
</DL>
<P><HR>
<LINK REL="Precedes" HREF="porting00019.html">
<LINK REV="Precedes" HREF="porting00031.html">
<LINK REV="Subdocument" HREF="porting00018.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="porting00031.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="porting00018.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="porting00019.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Porting Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
