<HTML>
<!-- created Dec 13 2011 from rtems.texi line 345 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>RTEMS Specific Commands perioduse - print or reset per period usage</TITLE>
<LINK REL="Precedes" HREF="shell00072.html">
<LINK REV="Precedes" HREF="shell00070.html">
<LINK REV="Subdocument" HREF="shell00067.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="shell00070.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="shell00067.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="shell00072.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Shell User's Guide</CITE></P>
<H3>5.2.4: perioduse - print or reset per period usage</H3>
<H3>SYNOPSYS:</H3>
<DL><DT><DD>
<PRE>
perioduse [-r]
</PRE>
</DL>
<H3>DESCRIPTION:</H3>
<P>
This command may be used to print a statistics report on the rate
monotonic periods in the application or to reset the rate monotonic
period usage statistics. When invoked with the <CODE>-r</CODE> option, the
usage statistics are reset.
</P>
<H3>EXIT STATUS:</H3>
<P>
This command returns 0 on success and non-zero if an error is encountered.
</P>
<H3>NOTES:</H3>
<P>
The granularity of the timing information reported is dependent
upon the BSP and the manner in which RTEMS was built.  In the
default RTEMS configuration, if the BSP supports nanosecond
granularity timestamps, then the information reported will be
highly accurate. Otherwise, the accuracy of the information
reported is limited by the clock tick quantum.
</P>
<H3>EXAMPLES:</H3>
<P>
The following is an example of how to use <CODE>perioduse</CODE>:
</P>
<DL><DT><DD>
<PRE>
SHLL [/] $ perioduse
Period information by period
--- CPU times are in seconds ---
--- Wall times are in seconds ---
   ID     OWNER COUNT MISSED          CPU TIME                  WALL TIME
                                    MIN/MAX/AVG                MIN/MAX/AVG
0x42010001 TA1    502      0 0:000039/0:042650/0:004158 0:000039/0:020118/0:002848
0x42010002 TA2    502      0 0:000041/0:042657/0:004309 0:000041/0:020116/0:002848
0x42010003 TA3    501      0 0:000041/0:041564/0:003653 0:000041/0:020003/0:002814
0x42010004 TA4    501      0 0:000043/0:044075/0:004911 0:000043/0:020004/0:002814
0x42010005 TA5     10      0 0:000065/0:005413/0:002739 0:000065/1:000457/0:041058

                                    MIN/MAX/AVG                MIN/MAX/AVG
SHLL [/] $ perioduse -r
Resetting Period Usage information
SHLL [/] $ perioduse
--- CPU times are in seconds ---
--- Wall times are in seconds ---
   ID     OWNER COUNT MISSED          CPU TIME                  WALL TIME
                                    MIN/MAX/AVG                MIN/MAX/AVG
0x42010001 TA1      0      0
0x42010002 TA2      0      0
0x42010003 TA3      0      0
0x42010004 TA4      0      0
0x42010005 TA5      0      0
</PRE>
</DL>
<H3>CONFIGURATION:</H3>
<P>
This command is included in the default shell command set.
When building a custom command set, define
<CODE>CONFIGURE_SHELL_COMMAND_PERIODUSE</CODE> to have this
command included.
</P>
<P>
This command can be excluded from the shell command set by
defining <CODE>CONFIGURE_SHELL_NO_COMMAND_PERIODUSE</CODE> when all
shell commands have been configured.
</P>
<H3>PROGRAMMING INFORMATION:</H3>
<P>
The <CODE>perioduse</CODE> is implemented by a C language function
which has the following prototype:
</P>
<DL><DT><DD>
<PRE>
int rtems_shell_rtems_main_perioduse(
  int    argc,
  char **argv
);
</PRE>
</DL>
<P>
The configuration structure for the <CODE>perioduse</CODE> has the
following prototype:
</P>
<DL><DT><DD>
<PRE>
extern rtems_shell_cmd_t rtems_shell_PERIODUSE_Command;
</PRE>
</DL>
<P><HR>
<LINK REL="Precedes" HREF="shell00072.html">
<LINK REV="Precedes" HREF="shell00070.html">
<LINK REV="Subdocument" HREF="shell00067.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="shell00070.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="shell00067.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="shell00072.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Shell User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
