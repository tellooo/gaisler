<HTML>
<!-- created Dec 13 2011 from network.texi line 56 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Network Commands netstats - obtain network statistics</TITLE>
<LINK REL="Precedes" HREF="shell00089.html">
<LINK REV="Precedes" HREF="shell00087.html">
<LINK REV="Subdocument" HREF="shell00087.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="shell00087.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="shell00087.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="shell00089.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Shell User's Guide</CITE></P>
<H3>6.2.1: netstats - obtain network statistics</H3>
<H3>SYNOPSYS:</H3>
<DL><DT><DD>
<PRE>
netstats [-Aimfpcut]
</PRE>
</DL>
<H3>DESCRIPTION:</H3>
<P>
This command is used to display various types of network statistics.  The
information displayed can be specified using command line arguments in
various combinations.  The arguments are interpreted as follows:
</P>
<DL>
<DT><STRONG>-A</STRONG>
<DD>
print All statistics

<DT><STRONG>-i</STRONG>
<DD>
print Inet Routes

<DT><STRONG>-m</STRONG>
<DD>
print MBUF Statistics

<DT><STRONG>-f</STRONG>
<DD>
print IF Statistics

<DT><STRONG>-p</STRONG>
<DD>
print IP Statistics

<DT><STRONG>-c</STRONG>
<DD>
print ICMP Statistics

<DT><STRONG>-u</STRONG>
<DD>
print UDP Statistics

<DT><STRONG>-t</STRONG>
<DD>
print TCP Statistics

</DL>
<H3>EXIT STATUS:</H3>
<P>
This command returns 0 on success and non-zero if an error is encountered.
</P>
<H3>NOTES:</H3>
<P>
NONE
</P>
<H3>EXAMPLES:</H3>
<P>
The following is an example of how to use <CODE>netstats</CODE>:
</P>
<P>
The following is an example of using the <CODE>netstats</CODE>
command to print the IP routing table:
</P>
<DL><DT><DD>
<PRE>
[/] $ netstats -i
Destination     Gateway/Mask/Hw    Flags     Refs     Use Expire Interface
default         192.168.1.14       UGS         0        0      0 eth1
192.168.1.0     255.255.255.0      U           0        0      1 eth1
192.168.1.14    00:A0:C8:1C:EE:28  UHL         1        0   1219 eth1
192.168.1.51    00:1D:7E:0C:D0:7C  UHL         0      840   1202 eth1
192.168.1.151   00:1C:23:B2:0F:BB  UHL         1       23   1219 eth1
</PRE>
</DL>
<P>
The following is an example of using the <CODE>netstats</CODE>
command to print the MBUF statistics:
</P>
<DL><DT><DD>
<PRE>
[/] $ netstats -m
************ MBUF STATISTICS ************
mbufs:2048    clusters: 128    free:  63
drops:   0       waits:   0  drains:   0
      free:1967          data:79          header:2           socket:0
       pcb:0           rtable:0           htable:0           atable:0
    soname:0           soopts:0           ftable:0           rights:0
    ifaddr:0          control:0          oobdata:0
</PRE>
</DL>
<P>
The following is an example of using the <CODE>netstats</CODE>
command to print the print the interface statistics:
</P>
<DL><DT><DD>
<PRE>
[/] $ netstats -f
************ INTERFACE STATISTICS ************
***** eth1 *****
Ethernet Address: 00:04:9F:00:5B:21
Address:192.168.1.244   Broadcast Address:192.168.1.255   Net mask:255.255.255.0
Flags: Up Broadcast Running Active Multicast
Send queue limit:50   length:1    Dropped:0
      Rx Interrupts:889            Not First:0               Not Last:0
              Giant:0              Non-octet:0
            Bad CRC:0                Overrun:0              Collision:0
      Tx Interrupts:867             Deferred:0         Late Collision:0
   Retransmit Limit:0               Underrun:0             Misaligned:0
</PRE>
</DL>
<P>
The following is an example of using the <CODE>netstats</CODE>
command to print the print IP statistics:
</P>
<DL><DT><DD>
<PRE>
[/] $ netstats -p
************ IP Statistics ************
             total packets received         894
  packets rcvd for unreachable dest          13
 datagrams delivered to upper level         881
    total ip packets generated here         871

</PRE>
</DL>
<P>
The following is an example of using the <CODE>netstats</CODE>
command to print the ICMP statistics:
</P>
<DL><DT><DD>
<PRE>
[/] $ netstats -c
************ ICMP Statistics ************
                        Type 0 sent         843
                number of responses         843
                    Type 8 received         843

</PRE>
</DL>
<P>
The following is an example of using the <CODE>netstats</CODE>
command to print the UDP statistics:
</P>
<DL><DT><DD>
<PRE>
[/] $ netstats -u
************ UDP Statistics ************

</PRE>
</DL>
<P>
The following is an example of using the <CODE>netstats</CODE>
command to print the TCP statistics:
</P>
<DL><DT><DD>
<PRE>
[/] $ netstats -t
************ TCP Statistics ************
               connections accepted           1
            connections established           1
     segs where we tried to get rtt          34
                 times we succeeded          35
                  delayed acks sent           2
                 total packets sent          37
                  data packets sent          35
                    data bytes sent        2618
              ack-only packets sent           2
             total packets received          47
       packets received in sequence          12
         bytes received in sequence         307
                   rcvd ack packets          35
           bytes acked by rcvd acks        2590
      times hdr predict ok for acks          27
 times hdr predict ok for data pkts          10
</PRE>
</DL>
<H3>CONFIGURATION:</H3>
<P>
This command is included in the default shell command set.
When building a custom command set, define
<CODE>CONFIGURE_SHELL_COMMAND_NETSTATS</CODE> to have this
command included.
</P>
<P>
This command can be excluded from the shell command set by
defining <CODE>CONFIGURE_SHELL_NO_COMMAND_NETSTATS</CODE> when all
shell commands have been configured.
</P>
<H3>PROGRAMMING INFORMATION:</H3>
<P>
The <CODE>netstats</CODE> is implemented by a C language function
which has the following prototype:
</P>
<DL><DT><DD>
<PRE>
int rtems_shell_rtems_main_netstats(
  int    argc,
  char **argv
);
</PRE>
</DL>
<P>
The configuration structure for the <CODE>netstats</CODE> has the
following prototype:
</P>
<DL><DT><DD>
<PRE>
extern rtems_shell_cmd_t rtems_shell_NETSTATS_Command;
</PRE>
</DL>
<P><HR>
<LINK REL="Precedes" HREF="shell00089.html">
<LINK REV="Precedes" HREF="shell00087.html">
<LINK REV="Subdocument" HREF="shell00087.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="shell00087.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="shell00087.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="shell00089.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Shell User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
