<HTML>
<!-- created Dec 13 2011 from file.texi line 1035 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>File and Directory Commands mknod - make device special file</TITLE>
<LINK REL="Precedes" HREF="shell00042.html">
<LINK REV="Precedes" HREF="shell00040.html">
<LINK REV="Subdocument" HREF="shell00031.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="shell00040.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="shell00031.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="shell00042.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Shell User's Guide</CITE></P>
<H3>3.2.10: mknod - make device special file</H3>
<H3>SYNOPSYS:</H3>
<DL><DT><DD>
<PRE>
mknod [-rR] [-F fmt] [-g gid] [-m mode] [-u uid] name [c | b]
      [driver | major] minor
mknod [-rR] [-F fmt] [-g gid] [-m mode] [-u uid] name [c | b]
      major unit subunit
mknod [-rR] [-g gid] [-m mode] [-u uid] name [c | b] number
mknod [-rR] [-g gid] [-m mode] [-u uid] name p
</PRE>
</DL>
<H3>DESCRIPTION:</H3>
<P>
The mknod command creates device special files, or fifos.  Normally
the shell script /dev/MAKEDEV is used to create special files for
commonly known devices; it executes mknod with the appropriate
arguments and can make all the files required for the device.
</P>
<P>
To make nodes manually, the arguments are:
</P>
<DL>
<DT><STRONG>-r</STRONG>
<DD>
Replace an existing file if its type is incorrect.

<DT><STRONG>-R</STRONG>
<DD>
Replace an existing file if its type is incorrect.  Correct the
mode, user and group.

<DT><STRONG>-g gid</STRONG>
<DD>
Specify the group for the device node.  The gid operand may be a
numeric group ID or a group name.  If a group name is also a numeric
group ID, the operand is used as a group name.  Precede a numeric
group ID with a # to stop it being treated as a name.

<DT><STRONG>-m mode</STRONG>
<DD>
Specify the mode for the device node.  The mode may be absolute or
symbolic, see <EM>chmod</EM>.

<DT><STRONG>-u uid</STRONG>
<DD>
Specify the user for the device node.  The uid operand may be a
numeric user ID or a user name.  If a user name is also a numeric user
ID, the operand is used as a user name.  Precede a numeric user ID
with a # to stop it being treated as a name.

<DT><STRONG>name</STRONG>
<DD>
Device name, for example ``tty'' for a termios serial device or ``hd''
for a disk.

<DT><STRONG>b | c | p</STRONG>
<DD>
Type of device.  If the device is a block type device such as a tape
or disk drive which needs both cooked and raw special files, the type
is b.  All other devices are character type devices, such as terminal
and pseudo devices, and are type c.  Specifying p creates fifo files.

<DT><STRONG>driver | major</STRONG>
<DD>
The major device number is an integer number which tells the kernel
which device driver entry point to use.  If the device driver is
configured into the current kernel it may be specified by driver name
or major number.

<DT><STRONG>minor</STRONG>
<DD>
The minor device number tells the kernel which one of several similar
devices the node corresponds to; for example, it may be a specific
serial port or pty.

<DT><STRONG>unit and subunit</STRONG>
<DD>
The unit and subunit numbers select a subset of a device; for example,
the unit may specify a particular disk, and the subunit a partition on
that disk.  (Currently this form of specification is only supported
by the bsdos format, for compatibility with the BSD/OS mknod).

<DT><STRONG>number</STRONG>
<DD>
A single opaque device number.  Useful for netbooted computers which
require device numbers packed in a format that isn't supported by
-F.
</DL>

<H3>EXIT STATUS:</H3>
<P>
The <CODE>mknod</CODE> utility exits 0 on success, and &gt;0 if an error occurs.
</P>
<H3>NOTES:</H3>
<P>
NONE
</P>
<H3>EXAMPLES:</H3>
<DL><DT><DD>
<PRE>
SHLL [/] mknod c 3 0 /dev/ttyS10
</PRE>
</DL>
<H3>CONFIGURATION:</H3>
<P>
This command is included in the default shell command set.  When
building a custom command set, define
<CODE>CONFIGURE_SHELL_COMMAND_MKNOD</CODE> to have this command included.
</P>
<P>
This command can be excluded from the shell command set by
defining <CODE>CONFIGURE_SHELL_NO_COMMAND_MKNOD</CODE> when all
shell commands have been configured.
</P>
<H3>PROGRAMMING INFORMATION:</H3>
<P>
The <CODE>mknod</CODE> command is implemented by a C language function which
has the following prototype:
</P>
<DL><DT><DD>
<PRE>
int rtems_shell_rtems_main_mknod(
  int    argc,
  char **argv
);
</PRE>
</DL>
<P>
The configuration structure for the <CODE>mknod</CODE> has the following
prototype:
</P>
<DL><DT><DD>
<PRE>
extern rtems_shell_cmd_t rtems_shell_MKNOD_Command;
</PRE>
</DL>
<H3>ORIGIN:</H3>
<P>
The implementation and portions of the documentation for this command
are from NetBSD 4.0.
</P>
<P><HR>
<LINK REL="Precedes" HREF="shell00042.html">
<LINK REV="Precedes" HREF="shell00040.html">
<LINK REV="Subdocument" HREF="shell00031.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="shell00040.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="shell00031.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="shell00042.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS Shell User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
