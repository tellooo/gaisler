<HTML>
<!-- created Dec 13 2011 from msgbuffer.texi line 107 via texi2www -->
<BODY BGCOLOR="FFFFFF">
<A HREF="http://www.rtems.com" target="Text Frame">
  <IMG align=right BORDER=0 SRC="../images/rtems_logo.jpg" ALT="RTEMS Logo"> </A>
<H1>RTEMS 4.10.2 On-Line Library</H1>
<HR>
<HEAD>
<TITLE>Message Buffer Manager T_RMBF Structure</TITLE>
<LINK REL="Precedes" HREF="itron00096.html">
<LINK REV="Precedes" HREF="itron00098.html">
<LINK REV="Subdocument" HREF="itron00095.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="itron00098.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="itron00095.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="itron00096.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS ITRON 3.0 API User's Guide</CITE></P>
<H3>6.2.2: T_RMBF Structure</H3>
<P>
The T_RMBF structure is filled in by the <CODE>ref_mbf</CODE> routine with
status and state information of the message buffer. The structure is
defined as follows:
</P>
<DL><DT><DD>
<PRE>

typedef struct t_rmbf {
  VP      exinf;   /* extended information */
  BOOL_ID wtsk;    /* waiting task information */
  BOOL_ID stsk;    /* sending task information */
  INT     msgsz;   /* message size (in bytes) */
  INT     frbufsz; /* free buffer size (in bytes) */
  /* (CPU and/or implementation-dependent information is returned) */
} T_RMBF;

</PRE>
</DL>
<DL>
<DT><STRONG>exinf</STRONG>
<DD>
is for any extended information that the implementation may define.
This implementation does not use this field.

<DT><STRONG>wtsk</STRONG>
<DD>
is TRUE when there is one or more tasks waiting on this message buffer
to send message. It is FALSE when there is no waiting task. The meaning
of this field is allowed to vary between ITRON implementations.  It may
have the ID of a waiting task, the number of tasks waiting, or a boolean
indication that one or more tasks are waiting.

<DT><STRONG>stsk</STRONG>
<DD>
is TRUE when there is one or more tasks waiting on this message buffer
to receive message. It is FALSE when there is no waiting task. The meaning
of this field is allowed to vary between ITRON implementations.  It may
have the ID of a waiting task, the number of tasks waiting, or a boolean
indication that one or more tasks are waiting.

<DT><STRONG>msgsz</STRONG>
<DD>
is the size of the message that is at the head of the message buffer. If
there is no message on the message queue, <CODE>msgsz</CODE> will be returned
as FALSE = 0.

<DT><STRONG>frbufsz</STRONG>
<DD>
is the amount of free memory in the message buffer.

</DL>
<P><HR>
<LINK REL="Precedes" HREF="itron00096.html">
<LINK REV="Precedes" HREF="itron00098.html">
<LINK REV="Subdocument" HREF="itron00095.html">
<LINK REV="Library" HREF="../index.html">
</HEAD><BODY><P>
<A HREF="itron00098.html"><IMG ALIGN=MIDDLE SRC="../images/prev-arrow.gif" ALT="PREV"></A>
<A HREF="itron00095.html"> <IMG ALIGN=MIDDLE SRC="../images/up-arrow.gif" ALT="UP"></A>
<A HREF="itron00096.html"><IMG ALIGN=MIDDLE SRC="../images/next-arrow.gif" ALT="NEXT"></A>
<A HREF="../index.html"> <IMG ALIGN=MIDDLE SRC="../images/dir-arrow.gif" ALT="Bookshelf"></A>
<CITE>RTEMS ITRON 3.0 API User's Guide</CITE></P>
<P>Copyright &copy; 1988-2008 <A HREF="http://www.oarcorp.com" target="Text Frame">OAR Corporation</A>
</BODY></HTML>
